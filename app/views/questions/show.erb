<img src="../imgs/<%= @question.schema_img_filename %>" alt="Schema for Theaters, Screens, and Screenings">


<% if @last_guess and @last_guess[1] == true %>
<p>That's correct!</p>
<% elsif @last_guess %>
<p>Incorrect!</p>
<% end %>

<p><%= @question.text %></p>

<div id="editor">class Theater < ActiveRecord::Base

end</div>

<form action="/questions/<%= @question.id %>/guess" method="post">
  <textarea name="answer"><% if @last_guess %><%= @last_guess[2] %><% end %></textarea>
  <input type="submit">
</form>

<script src="/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
  var editor = ace.edit("editor");
  editor.setTheme("ace/theme/monokai");
  editor.getSession().setMode("ace/mode/ruby");
  editor.getSession().setTabSize(2);
  var textarea = $('textarea[name="answer"]').hide();
  editor.getSession().setValue(textarea.val());
  editor.getSession().on('change', function(){
    textarea.val(editor.getSession().getValue());
  });
</script>
